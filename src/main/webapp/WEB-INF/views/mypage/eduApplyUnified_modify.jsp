<%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
<%@ taglib uri ="http://java.sun.com/jsp/jstl/functions" prefix = "fn" %>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko" lang="ko">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-368L9FRD5B"></script>
    <script>   window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'G-368L9FRD5B'); </script>

    <meta name="google-site-verification" content="nOdgBX2kjgySRAVZjwMl-AmYg53q0GxLBOV_qEtG7jk" />

    <meta name="naver-site-verification" content="8027433e606d42e31ef9e566afbd709c593e33bc" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-language" content="ko">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no" />
    <meta name="copyright" content="경기테크노파크">
    <meta name="robots" content="all">
    <meta property="og:locale" content="ko_KR">
    <meta itemprop="inLanguage" content="ko-kr">
    <meta name="resource-type" content="website">
    <meta property="og:type" content="website">

    <meta property="og:site_name" content="경기해양레저인력양성센터">
    <title>경기해양레저 인력양성센터</title>

    <meta name="title" content="경기해양레저인력양성센터">
    <meta property="og:title" content="경기해양레저인력양성센터">
    <meta name="twitter:title" content="경기해양레저인력양성센터">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://edumarine.org/main.do">
    <meta itemprop="name" content="경기해양레저인력양성센터">
    <meta property="nate:title" content="경기해양레저인력양성센터">
    <meta property="nate:url" content="https://edumarine.org/main.do">

    <meta property="og:url" content="https://edumarine.org/main.do">
    <meta itemprop="url" content="https://edumarine.org/main.do">
    <link rel="canonical" id="canonical" href="https://edumarine.org/main.do">

    <meta name="description" content="경기해양레저인력양성센터는 경기도가 ‘16년도에 전국 최초로 개설한 해양레저 테크니션 전문교육기관입니다.">
    <meta name="twitter:description" content="경기해양레저인력양성센터는 경기도가 ‘16년도에 전국 최초로 개설한 해양레저 테크니션 전문교육기관입니다.">
    <meta property="og:description" content="경기해양레저인력양성센터는 경기도가 ‘16년도에 전국 최초로 개설한 해양레저 테크니션 전문교육기관입니다.">
    <meta itemprop="description" content="경기해양레저인력양성센터는 경기도가 ‘16년도에 전국 최초로 개설한 해양레저 테크니션 전문교육기관입니다.">
    <meta property="nate:description" content="경기해양레저인력양성센터는 경기도가 ‘16년도에 전국 최초로 개설한 해양레저 테크니션 전문교육기관입니다.">

    <meta property="og:keywords" content="경기해양레저인력양성센터, EDU marine, 에듀마린, 해상엔진, 해상엔진 교육, 선박엔진, 선박엔진 교육, 선외기, 선외기 교육, 선외기 정비 교육, 선내기, 선내기 교육, 선외기 정비 교육, 선체, 선체 교육, 선체 정비 교육, 해양레저, 해양레저 교육, 요트 교육, 요트정비 교육, 엔진정비 교육  편집 지켜보기">
    <meta name="keywords" content="경기해양레저인력양성센터, EDU marine, 에듀마린, 해상엔진, 해상엔진 교육, 선박엔진, 선박엔진 교육, 선외기, 선외기 교육, 선외기 정비 교육, 선내기, 선내기 교육, 선외기 정비 교육, 선체, 선체 교육, 선체 정비 교육, 해양레저, 해양레저 교육, 요트 교육, 요트정비 교육, 엔진정비 교육  편집 지켜보기">
    <meta property="twitter:keywords" content="경기해양레저인력양성센터, EDU marine, 에듀마린, 해상엔진, 해상엔진 교육, 선박엔진, 선박엔진 교육, 선외기, 선외기 교육, 선외기 정비 교육, 선내기, 선내기 교육, 선외기 정비 교육, 선체, 선체 교육, 선체 정비 교육, 해양레저, 해양레저 교육, 요트 교육, 요트정비 교육, 엔진정비 교육  편집 지켜보기">

    <meta name="image" content="https://cdn2.micehub.com/home/2017/edua/Files/edua_20210604_122121.jpg">
    <meta name="twitter:image " content="https://cdn2.micehub.com/home/2017/edua/Files/edua_20210604_122121.jpg">
    <meta property="og:image" content="https://cdn2.micehub.com/home/2017/edua/Files/edua_20210604_122121.jpg">
    <meta itemprop="image" content="https://cdn2.micehub.com/home/2017/edua/Files/edua_20210604_122121.jpg">
    <meta itemprop="thumbnailUrl" content="https://cdn2.micehub.com/home/2017/edua/Files/edua_20210604_122121.jpg">
    <link rel="image_src" link="https://cdn2.micehub.com/home/2017/edua/Files/edua_20210604_122121.jpg">

    <%-- favicon --%>
    <link rel="apple-touch-icon" sizes="57x57" href="/img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <%-- favicon --%>

    <!-- swiper 외부 라이브러리 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <%-- sweetalert CDN --%>
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.min.css" rel="stylesheet">

    <link href="/css/reset.css" rel="stylesheet">
    <link href="/css/font.css" rel="stylesheet">
    <link href="/css/style.css?ver=<%=System.currentTimeMillis()%>" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
</head>

<body>

<c:if test="${status ne 'logon'}">
    <script>
        alert("로그인해 주세요.");
        location.href = '/member/login.do';
    </script>
</c:if>

<c:if test="${status eq 'logon'}">

    <c:import url="../header.jsp" charEncoding="UTF-8"/>

    <!-- container -->
    <div id="container">

        <!-- sub_top -->
        <div class="sub_top sub_top_edu">
            <div class="inner">
                <div class="sub_top_nav">
                    <span class="home"><img src="/img/icon_home_mini.png" alt="홈 아이콘"></span><span>교육신청</span><span>${trainInfo.gbn}</span>
                </div>
                <h2 class="sub_top_title">${trainInfo.gbn}</h2>
            </div>
        </div>
        <!-- //sub_top -->

        <!-- content_wrap -->
        <div id="content_wrap">

            <!-- content -->
            <div id="content" class="sub_apply">
                <div class="join_wrap form_wrap">

                    <!-- form box -->
                    <form id="modifyForm" name="modifyForm" enctype="multipart/form-data">
                        <input type="hidden" name="seq" value="${info.seq}" />
                        <input type="hidden" name="trainSeq" value="${info.trainSeq}" />
                        <input type="hidden" name="memberSeq" value="${info.memberSeq}" />
                        <input type="hidden" id="modYn" value="${modYn}" />

                        <div class="form_box">
                            <div class="form_tit">
                                <div class="big">신청자 정보</div>
                            </div>
                            <ul class="form_list">
                                <li>
                                    <div class="gubun">성명/아이디</div>
                                    <div class="naeyong">
                                        <div class="input">
                                            <input type="text" value="${memberInfo.name} (${memberInfo.id})" class="w100" readonly>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="gubun">연락처</div>
                                    <div class="naeyong">
                                        <div class="input">
                                            <input type="text" value="${memberInfo.phone}" class="w50" readonly>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="gubun">진행상태</div>
                                    <div class="naeyong">
                                        <div class="input">
                                            <span style="color:#013B90; font-weight:bold;">${info.applyStatus}</span>
                                            <c:if test="${not empty info.cancelDttm}">
                                                <span style="font-size:0.9rem; color:#999; margin-left:10px;">(취소일시: ${info.cancelDttm})</span>
                                            </c:if>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>

                        <div class="form_box">
                            <div class="form_tit">
                                <div class="big">신청 내용 수정</div>
                            </div>

                            <ul class="form_list">

                                <c:if test="${trainInfo.formType == 'BASIC_FORM' or trainInfo.formType == 'PRO_FORM'}">
                                    <li>
                                        <div class="gubun req"><p>의류 사이즈</p></div>
                                        <div class="naeyong">
                                            <div class="input">
                                                <c:choose>
                                                    <c:when test="${trainInfo.formType == 'PRO_FORM'}">
                                                        <select name="topClothesSize" class="w30" title="상의">
                                                            <option value="">상의 선택</option>
                                                            <c:forEach var="size" items="${fn:split('90(S),95(M),100(L),105(XL),110(2XL)', ',')}">
                                                                <option value="${size}" ${info.topClothesSize eq size ? 'selected' : ''}>${size}</option>
                                                            </c:forEach>
                                                        </select>
                                                        <input type="text" name="bottomClothesSize" value="${info.bottomClothesSize}" class="w30 ml5" placeholder="하의(예:30)">
                                                        <input type="text" name="shoesSize" value="${info.shoesSize}" class="w30 ml5" placeholder="신발(mm)">
                                                    </c:when>
                                                    <c:otherwise>
                                                        <select name="clothesSize" class="w50" title="작업복">
                                                            <option value="">선택</option>
                                                            <c:forEach var="size" items="${fn:split('90(S),95(M),100(L),105(XL),110(2XL),115(3XL),120(4XL)', ',')}">
                                                                <option value="${size}" ${info.clothesSize eq size ? 'selected' : ''}>${size}</option>
                                                            </c:forEach>
                                                            <option value="기타" ${info.clothesSize eq '기타' ? 'selected' : ''}>기타</option>
                                                        </select>
                                                    </c:otherwise>
                                                </c:choose>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="gubun req"><p>참여경로</p></div>
                                        <div class="naeyong">
                                            <div class="input">
                                                <label><input type="radio" name="participationPath" value="인터넷" ${info.participationPath eq '인터넷' ? 'checked' : ''}>인터넷</label>
                                                <label><input type="radio" name="participationPath" value="홈페이지" ${info.participationPath eq '홈페이지' ? 'checked' : ''}>홈페이지</label>
                                                <label><input type="radio" name="participationPath" value="홍보물" ${info.participationPath eq '홍보물' ? 'checked' : ''}>홍보물</label>
                                                <label><input type="radio" name="participationPath" value="지인추천" ${info.participationPath eq '지인추천' ? 'checked' : ''}>지인추천</label>
                                                <label><input type="radio" name="participationPath" value="기타" ${info.participationPath eq '기타' ? 'checked' : ''}>기타</label>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="gubun"><p>추천인</p></div>
                                        <div class="naeyong">
                                            <div class="input">
                                                <input type="text" name="recommendPerson" value="${info.recommendPerson}" class="w100" placeholder="추천인 입력">
                                            </div>
                                        </div>
                                    </li>
                                </c:if>

                                <c:if test="${trainInfo.formType == 'BASIC_FORM'}">
                                    <c:if test="${not empty info.boarderGbn}">
                                        <li>
                                            <div class="gubun req"><p>교육구분</p></div>
                                            <div class="naeyong">
                                                <div class="input">
                                                    <label><input type="radio" name="boarderGbn" value="선외기" <c:if test="${info.boarderGbn eq '선외기'}">checked</c:if>>선외기</label>
                                                    <label><input type="radio" name="boarderGbn" value="선내기" <c:if test="${info.boarderGbn eq '선내기'}">checked</c:if>>선내기</label>
                                                    <label><input type="radio" name="boarderGbn" value="세일요트" <c:if test="${info.boarderGbn eq '세일요트'}">checked</c:if>>세일요트</label>
                                                </div>
                                            </div>
                                        </li>
                                    </c:if>

                                    <c:if test="${not empty info.trainUnderstand}">
                                        <li>
                                            <div class="gubun"><p>교육이해</p></div>
                                            <div class="naeyong">
                                                <div class="input" style="display:block;">
                                                    <label style="display:block; margin-bottom:5px;"><input type="checkbox" name="trainUnderstand" value="1" class="chk_understand"> 해상엔진테크니션양성과정 및 마리나선박선외기/선내기정비사 실무과정 수료생</label>
                                                    <label style="display:block; margin-bottom:5px;"><input type="checkbox" name="trainUnderstand" value="2" class="chk_understand"> 선외기 정비 분야에 경력이 있으신 분</label>
                                                    <label style="display:block; margin-bottom:5px;"><input type="checkbox" name="trainUnderstand" value="3" class="chk_understand"> 경력이 없으나 선외기 정비 기술 습득을 원하시는 분</label>
                                                    <label style="display:block; margin-bottom:5px;">
                                                        <input type="checkbox" name="trainUnderstand" value="4" class="chk_understand checkbox_etc"> 기타
                                                        <input type="text" name="trainUnderstandEtc" value="${info.trainUnderstandEtc}" class="w50 ml5" placeholder="직접 입력" disabled>
                                                    </label>
                                                </div>
                                            </div>
                                        </li>
                                    </c:if>

                                    <c:if test="${not empty info.choiceDate}">
                                        <li>
                                            <div class="gubun req"><p>교육일자</p></div>
                                            <div class="naeyong">
                                                <div class="input">
                                                    <label><input type="radio" name="choiceDate" value="1" <c:if test="${info.choiceDate eq '1'}">checked</c:if>> 1차</label>
                                                    <label><input type="radio" name="choiceDate" value="2" <c:if test="${info.choiceDate eq '2'}">checked</c:if>> 2차</label>
                                                    <label><input type="radio" name="choiceDate" value="3" <c:if test="${info.choiceDate eq '3'}">checked</c:if>> 3차</label>
                                                </div>
                                            </div>
                                        </li>
                                    </c:if>
                                </c:if>

                                <c:if test="${trainInfo.formType == 'PRO_FORM'}">
                                    <li>
                                        <div class="gubun"><p>최종학력</p></div>
                                        <div class="naeyong">
                                            <div class="input">
                                                <select name="gradeGbn" class="w30">
                                                    <option value="고등학교" ${info.gradeGbn eq '고등학교' ? 'selected' : ''}>고등학교</option>
                                                    <option value="대학교" ${info.gradeGbn eq '대학교' ? 'selected' : ''}>대학교</option>
                                                    <option value="대학원" ${info.gradeGbn eq '대학원' ? 'selected' : ''}>대학원</option>
                                                </select>
                                                <input type="text" name="schoolName" value="${info.schoolName}" class="w30 ml5" placeholder="학교명">
                                                <input type="text" name="major" value="${info.major}" class="w30 ml5" placeholder="전공">
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="gubun"><p>경력사항</p></div>
                                        <div class="naeyong">
                                            <c:forEach var="career" items="${careerList}" varStatus="status">
                                                <div class="input formCareerBox" style="margin-bottom:10px;">
                                                    <input type="hidden" name="careerList[${status.index}].seq" value="${career.seq}">
                                                    <input type="text" name="careerList[${status.index}].careerPlace" value="${career.careerPlace}" class="w20" placeholder="근무처">
                                                    <input type="text" name="careerList[${status.index}].careerDate" value="${career.careerDate}" class="w20 ml5" placeholder="기간">
                                                    <input type="text" name="careerList[${status.index}].careerPosition" value="${career.careerPosition}" class="w20 ml5" placeholder="직위">
                                                    <input type="text" name="careerList[${status.index}].careerTask" value="${career.careerTask}" class="w20 ml5" placeholder="업무">
                                                    <button type="button" class="btn_del ml5" onclick="fn_delete_child(this, 'career', '${career.seq}');">X</button>
                                                </div>
                                            </c:forEach>
                                            <div class="input">
                                                <a href="javascript:void(0);" class="btnSt03 formAddBtn" data-type="career">+ 경력 추가</a>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="gubun"><p>자격면허</p></div>
                                        <div class="naeyong">
                                            <c:forEach var="license" items="${licenseList}" varStatus="status">
                                                <div class="input formLicenseBox" style="margin-bottom:10px;">
                                                    <input type="hidden" name="licenseList[${status.index}].seq" value="${license.seq}">
                                                    <input type="text" name="licenseList[${status.index}].licenseName" value="${license.licenseName}" class="w30" placeholder="자격명">
                                                    <input type="text" name="licenseList[${status.index}].licenseDate" value="${license.licenseDate}" class="w30 ml5" placeholder="취득일">
                                                    <input type="text" name="licenseList[${status.index}].licenseOrg" value="${license.licenseOrg}" class="w30 ml5" placeholder="발행기관">
                                                    <button type="button" class="btn_del ml5" onclick="fn_delete_child(this, 'license', '${license.seq}');">X</button>
                                                </div>
                                            </c:forEach>
                                            <div class="input">
                                                <a href="javascript:void(0);" class="btnSt03 formAddBtn" data-type="license">+ 자격증 추가</a>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="gubun"><p>지원동기</p></div>
                                        <div class="naeyong">
                                            <div class="input">
                                                <textarea name="applyReason" class="w100" style="height:100px;">${info.applyReason}</textarea>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="gubun"><p>첨부파일</p></div>
                                        <div class="naeyong">
                                            <div class="file_box">
                                                <span class="tit">증명사진</span>
                                                <c:if test="${not empty bodyPhotoFile}">
                                                    <div class="saved_file">
                                                        <a href="/file/download.do?fileName=${bodyPhotoFile.fileName}&path=${bodyPhotoFile.filePath}">${bodyPhotoFile.originalFileName}</a>
                                                        <button type="button" class="file_remove_btn" onclick="fn_file_delete(this, '${bodyPhotoFile.id}');">X</button>
                                                    </div>
                                                </c:if>
                                                <input type="file" name="bodyPhoto" class="file_input">
                                            </div>
                                            <div class="file_list_box mt10">
                                                <span class="tit">자격증 사본</span>
                                                <c:forEach var="file" items="${careerLicenseFileList}">
                                                    <div class="saved_file">
                                                        <a href="/file/download.do?fileName=${file.fileName}&path=${file.filePath}">${file.originalFileName}</a>
                                                        <button type="button" class="file_remove_btn" onclick="fn_file_delete(this, '${file.id}');">X</button>
                                                    </div>
                                                </c:forEach>
                                                <div class="input mt5">
                                                    <input type="file" name="careerLicense" class="file_input">
                                                    <a href="javascript:void(0);" class="btnSt03 formAddBtn" data-type="file">+ 파일추가</a>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </c:if>

                                <c:if test="${trainInfo.formType == 'FAMTOUR_FORM'}">
                                    <li>
                                        <div class="gubun req"><p>신청일자</p></div>
                                        <div class="naeyong">
                                            <div class="input">
                                                <label><input type="radio" name="applyDay" value="1" <c:if test="${info.applyDay eq '1'}">checked</c:if>> 1일차</label>
                                                <label><input type="radio" name="applyDay" value="2" <c:if test="${info.applyDay eq '2'}">checked</c:if>> 2일차</label>
                                            </div>
                                        </div>
                                    </li>
                                </c:if>

                            </ul>
                        </div>
                        <div class="form_btn_box">
                            <a href="/mypage/eduApplyInfo.do" class="btnSt03">목록</a>

                            <c:if test="${modYn ne 'N'}">
                                <a href="javascript:void(0);" onclick="fn_update();" class="btnSt01">수정하기</a>

                                <c:if test="${info.applyStatus eq '신청완료' or info.applyStatus eq '결제완료' or info.applyStatus eq '입금대기'}">
                                    <a href="javascript:void(0);" onclick="fn_cancel_confirm();" class="btnSt02">신청취소</a>
                                </c:if>
                            </c:if>
                        </div>

                    </form>
                    <!-- form box -->

                    <!-- form_notice -->
                    <div class="form_notice_box">
                        <div class="tit_box">교육비 환불 규정</div>
                        <div class="text_box">
                            <div class="box">
                                <div class="tit">교육신청자 최소 인원 미달로 폐강시 100% 환불</div>
                                <div class="cont">
                                    <div class="text1">교육 환불 규정(정상가 기준)</div>
                                    <div class="text2">- 교육 개설 10 일 전 100%</div>
                                    <div class="text2">- 교육 개설 5 일 전 50%</div>
                                    <div class="text2">- 교육 개설 4 일전 ~ 교육당일 환불 및 취소 불가</div>
                                </div>
                            </div>
                            <div class="box">
                                <div class="cont">
                                    <div class="text1 bold">
                                        위 환불 규정에 의거하여, 해당 교육일 기준 환불수수료를 공제한 교육비가 반환됩니다.<br>
                                        (신용카드 결제 시, 카드 취소 처리 및 계좌 입금 시, 납부 계좌로 환불)
                                    </div>
                                    <div class="text1 bold">
                                        해당 교육일 기준 환불 소요기간 : 14일~20일<br>
                                        * 소비자 보호원 학원법 환불 규정적용
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- //form_notice -->

                    <!-- popupCancelEdu -->
                    <div class="popup" id="popupCancelEdu">
                        <div class="popup_inner">
                            <div class="popup_box" style="max-width:600px;">
                                <div class="popup_tit">교육 신청 취소</div>
                                <div class="popup_cont">
                                    <p class="info_txt" style="margin-bottom:20px; color:#666; font-size:1.4rem;">
                                        취소 사유와 환불 받으실 계좌 정보를 입력해 주세요.<br>
                                        (신용카드 결제의 경우, 부분 취소 또는 승인 취소로 진행될 수 있습니다.)
                                    </p>

                                    <div class="form_box">
                                        <div class="form_tit">
                                            <div class="big">취소 사유</div>
                                        </div>
                                        <ul class="form_list">
                                            <li>
                                                <div class="naeyong" style="width:100%;">
                                                    <div class="input">
                                                        <textarea id="cancelReason" class="w100" style="height:100px;" placeholder="취소 사유를 상세히 입력해주세요."></textarea>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>

                                    <div class="form_box">
                                        <div class="form_tit">
                                            <div class="big">환불 계좌 정보</div>
                                        </div>
                                        <ul class="form_list">
                                            <li>
                                                <div class="gubun req"><p>은행명</p></div>
                                                <div class="naeyong">
                                                    <div class="input">
                                                        <select id="refundBankCode" class="w100">
                                                            <option value="">선택하세요</option>
                                                            <option value="004">KB국민은행</option>
                                                            <option value="088">신한은행</option>
                                                            <option value="020">우리은행</option>
                                                            <option value="081">하나은행</option>
                                                            <option value="003">기업은행</option>
                                                            <option value="011">농협</option>
                                                            <option value="090">카카오뱅크</option>
                                                            <option value="089">케이뱅크</option>
                                                            <option value="023">SC제일은행</option>
                                                            <option value="039">경남은행</option>
                                                            <option value="034">광주은행</option>
                                                            <option value="031">대구은행</option>
                                                            <option value="032">부산은행</option>
                                                            <option value="002">산업은행</option>
                                                            <option value="045">새마을금고</option>
                                                            <option value="007">수협</option>
                                                            <option value="048">신협</option>
                                                            <option value="005">외환은행</option>
                                                            <option value="071">우체국</option>
                                                            <option value="037">전북은행</option>
                                                            <option value="035">제주은행</option>
                                                            <option value="027">한국씨티은행</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="gubun req"><p>계좌번호</p></div>
                                                <div class="naeyong">
                                                    <div class="input">
                                                        <input type="text" id="refundBankNumber" class="w100 onlyNum" placeholder="- 없이 숫자만 입력">
                                                    </div>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="gubun req"><p>예금주</p></div>
                                                <div class="naeyong">
                                                    <div class="input">
                                                        <input type="text" id="refundBankCustomerName" class="w100" placeholder="예금주명 입력">
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>

                                    <div class="btn_wrap mt30">
                                        <a href="javascript:void(0);" class="btnSt03 close_btn">닫기</a>
                                        <a href="javascript:void(0);" onclick="fn_cancel_submit();" class="btnSt01">신청취소</a>
                                    </div>
                                </div>
                                <a href="javascript:void(0);" class="close_btn btn_close"><img src="/img/close_w.png" alt="닫기"></a>
                            </div>
                        </div>
                    </div>
                    <!-- //popupCancelEdu -->

                </div>
            </div>
            <!-- //content -->
        </div>
        <!-- content_wrap -->

    </div>
    <!-- //container -->

    <c:import url="../footer.jsp" charEncoding="UTF-8"/>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.all.min.js"></script>

    <script src="/js/jquery-3.6.0.min.js"></script>
    <script src="/js/jquery-migrate-3.3.0.js"></script>
    <script src="/js/jquery.cookie.min.js"></script>

    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

    <script src="/js/script.js?ver=<%=System.currentTimeMillis()%>"></script>
    <script src="/js/swiper.js"></script>
    <script src="/js/form.js?ver=<%=System.currentTimeMillis()%>"></script>
    <script src="/js/smsNoti.js?ver=<%=System.currentTimeMillis()%>"></script>
    <script src="/js/main.js?ver=<%=System.currentTimeMillis()%>"></script>

    <script>
        $(function() {
            // 1. 수정 불가 처리 (modYn 체크)
            var modYn = '${modYn}';
            if(modYn === 'N'){
                $('#modifyForm input, #modifyForm select, #modifyForm textarea').prop('disabled', true);
                $('.form_btn_box .btnSt01, .form_btn_box .btnSt02').hide();
                $('.formAddBtn, .file_remove_btn, .btn_del').hide();

                Swal.fire({
                    title: '[ 알림 ]',
                    html: '해당 교육은 마감되었거나<br>취소/환불 완료된 상태이므로<br>내용을 수정할 수 없습니다.',
                    icon: 'info'
                });
            }

            // 2. 교육이해(trainUnderstand) 데이터 바인딩 (체크박스)
            var trainUnderstandVal = "${info.trainUnderstand}";
            if(trainUnderstandVal) {
                var arr = trainUnderstandVal.split(',');
                $('input[name=trainUnderstand]').each(function() {
                    if(arr.indexOf($(this).val()) > -1) {
                        $(this).prop('checked', true);
                    }
                });
                if($('.checkbox_etc').is(':checked')){
                    $('input[name=trainUnderstandEtc]').prop('disabled', false);
                }
            }

            // 3. 팝업 닫기 이벤트
            $('#popupCancelEdu .close_btn').on('click', function () {
                $(this).parents('.popup').removeClass('on');
                $('body').removeClass('lock_scroll');
            });
        });

        // [수정하기]
        function fn_update() {
            Swal.fire({
                title: '[ 수정 확인 ]',
                text: "입력하신 내용으로 수정하시겠습니까?",
                icon: 'question',
                showCancelButton: true,
                confirmButtonColor: '#00a8ff',
                confirmButtonText: '수정',
                cancelButtonColor: '#A1A5B7',
                cancelButtonText: '취소'
            }).then((result) => {
                if (result.isConfirmed) {
                    var form = $('#modifyForm')[0];
                    var formData = new FormData(form);

                    $.ajax({
                        url: "/mypage/eduApplyUnified/update.do",
                        type: "POST",
                        data: formData,
                        contentType: false,
                        processData: false,
                        success: function(res) {
                            if (res.resultCode === "0") {
                                Swal.fire('성공', '수정되었습니다.', 'success').then(() => {
                                    location.reload();
                                });
                            } else {
                                Swal.fire('실패', res.resultMessage, 'error');
                            }
                        },
                        error: function(err) {
                            Swal.fire('오류', '서버 통신 중 오류가 발생했습니다.', 'error');
                        }
                    });
                }
            });
        }

        // [취소하기] - 팝업 오픈
        function fn_cancel_confirm() {
            $('#cancelReason').val('');
            $('#refundBankCode').val('');
            $('#refundBankNumber').val('');
            $('#refundBankCustomerName').val('');
            $('#popupCancelEdu').addClass('on');
            $('body').addClass('lock_scroll');
        }

        // [취소하기] - 실제 전송
        function fn_cancel_submit() {
            var reason = $('#cancelReason').val();
            var bankCode = $('#refundBankCode').val();
            var bankNumber = $('#refundBankNumber').val();
            var customerName = $('#refundBankCustomerName').val();
            var bankName = $('#refundBankCode option:selected').text();

            if(!reason) { Swal.fire('알림', '취소 사유를 입력해주세요.', 'warning'); return; }
            if(!bankCode || !bankNumber || !customerName) { Swal.fire('알림', '환불 계좌 정보를 모두 입력해주세요.', 'warning'); return; }

            Swal.fire({
                title: '취소 신청',
                text: "정말로 취소하시겠습니까?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                confirmButtonText: '확인',
                cancelButtonText: '닫기'
            }).then((result) => {
                if (result.isConfirmed) {
                    var data = {
                        seq: "${info.seq}",
                        cancelReason: reason,
                        refundBankCode: bankCode,
                        refundBankName: bankName,
                        refundBankNumber: bankNumber,
                        refundBankCustomerName: customerName,
                        applyStatus: "취소신청"
                    };

                    _ajax_("POST", "/mypage/eduApplyUnified/cancel.do", data, function(res) {
                        if (res.resultCode === "0") {
                            Swal.fire('완료', '취소 신청이 접수되었습니다.', 'success').then(() => {
                                location.href = "/mypage/eduApplyInfo.do";
                            });
                        } else {
                            Swal.fire('실패', res.resultMessage, 'error');
                        }
                    });
                }
            });
        }

        // [파일/행 삭제]
        function fn_delete_child(btn, type, seq) {
            Swal.fire({
                title: '삭제',
                text: "정말 삭제하시겠습니까?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: '삭제'
            }).then((res) => {
                if(res.isConfirmed) {
                    $(btn).parent().remove();
                }
            });
        }

        function fn_file_delete(btn, fileId) {
            var data = { id: fileId };
            _ajax_("POST", "/file/delete.do", data, function(res) {
                if(res.resultCode === "0") {
                    $(btn).parent().remove();
                } else {
                    alert("파일 삭제 실패");
                }
            });
        }
    </script>
</c:if>
</body>
</html>